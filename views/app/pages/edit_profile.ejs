<%- include ../layouts/header.ejs %>

<body class="body-scroll" data-page="profile">

    <!-- loader section -->
    <%- include ../layouts/loading.ejs %>
    <!-- loader section ends -->

    <!-- Sidebar main menu -->
    <%- include ../layouts/sidebar.ejs %>
    <!-- Sidebar main menu ends -->

    <!-- Begin page -->
    <main class="h-100">

        <!-- Header -->
        <header class="header position-fixed">
            <div class="row">
                <div class="col-auto">
                    <a href="javascript:history.back()" class="btn btn-light btn-44" style="line-height: 38px;">
                        <i class="bi bi-backspace"></i>
                    </a>
                </div>
                <div class="col text-center">
                    <div class="logo-small">
                        <img src="../../images/gmg.png" alt="" />
                        <h5><span class="text-secondary fw-light">GMG</span><br />Invest</h5>
                    </div>
                </div>
                <div class="col-auto">
                    <a href="/app/profile/<%= user.id %>" target="_self" class="btn btn-light btn-44">
                        <i class="bi bi-person-circle"></i>
                        <span class="count-indicator"></span>
                    </a>
                </div>
            </div>
        </header>
        <!-- Header ends -->

        <!-- main page content -->
        <div class="main-container container">
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card theme-bg overflow-hidden">
                        <div class="card-header">
                            <p class="">Thay đổi thông tin</p>
                        </div>
                        <form action="/app/update/<%= user.id %>" method="POST"   onsubmit='disableButton()'>
                            <div class="card-body py-4">
                                <div class="row">
                                    <div class="col-7 align-self-center">
                                        <div class="form-floating is-valid mb-3">
                                            <input style="color: white;" type="text" class="form-control" id="ho_va_ten" name="ho_va_ten" value="<%= user.ho_va_ten %>"
                                                >
                                            <label for="ho_va_ten">Họ và tên</label>
                                        </div>
                                    </div>
                                    <div class="col-5 align-self-center">
                                        <div class="form-floating is-valid mb-3">
                                            <input style="color: white;" type="text" class="form-control" value="<%= user.dan_toc %>"
                                                id="dan_toc" name="dan_toc" >
                                            <label for="dan_toc">Dân tộc</label>
                                        </div>
                                    </div>
                                    <div class="col-6 align-self-center">
                                        <div class="form-floating is-valid mb-3">
                                            <input style="color: white;" type="date" class="form-control" value="<%= (user.nam_sinh).getFullYear() %>-<%= String(user.nam_sinh.getMonth() + 1).padStart(2, '0') %>-<%= String(user.nam_sinh.getDate()).padStart(2, '0') %>"
                                                id="nam_sinh"  name="nam_sinh">
                                            <label for="nam_sinh">Ngày sinh</label>
                                        </div>
                                    </div>
                                    <div class="col-6 align-self-center">
                                        <div class="form-floating is-valid mb-3">
                                            <input style="color: white;" type="text" class="form-control" value="0<%= user.so_dien_thoai %>"
                                                id="so_dien_thoai" name="so_dien_thoai">
                                            <label for="so_dien_thoai">Số điện thoại</label>
                                        </div>
                                    </div>
                                    <div class="col-6 align-self-center">
                                        <div class="form-floating is-valid mb-3">
                                            <input style="color: white;" type="text" class="form-control" value="<%= user.cccd_cmnd %>"
                                                id="cccd_cmnd" name="cccd_cmnd" >
                                            <label for="cccd_cmnd">CMND/CCCD</label>
                                        </div>
                                    </div>
                                    <div class="col-6 align-self-center">
                                        <div class="form-floating is-valid mb-3">
                                            <input style="color: white;" type="date" class="form-control" value="<%= (user.ngay_cap).getFullYear() %>-<%= String(user.ngay_cap.getMonth() + 1).padStart(2, '0') %>-<%= String(user.ngay_cap.getDate()).padStart(2, '0') %>" placeholder="ngay_cap"
                                                id="ngay_cap" name="ngay_cap" >
                                            <label for="ngay_cap">Ngày cấp</label>
                                        </div>
                                    </div>
                                    <div class="col-12 align-self-center">
                                        <div class="form-floating is-valid mb-3">
                                            <input style="color: white;" type="text" class="form-control" value="<%= user.noi_cap %>"
                                                id="noi_cap" name="noi_cap">
                                            <label for="noi_cap">Nơi cấp</label>
                                        </div>
                                    </div>
                                    <div class="col-12 align-self-center">
                                        <div class="form-floating is-valid mb-3">
                                            <input style="color: white;" type="text" class="form-control" value="0<%= user.email %>"
                                                id="email" name="email">
                                            <label for="email">Email</label>
                                        </div>
                                    </div>
                                    <div class="col-12 align-self-center">
                                        <div class="form-floating is-valid mb-3">
                                            <input style="color: white;" type="text" class="form-control" value="<%= user.dia_chi_hien_tai %>"
                                                id="dia_chi_hien_tai" name="dia_chi_hien_tai">
                                            <label for="dia_chi_hien_tai">Địa chỉ</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <div class="col-12">
                                        <button id="check" type="submit" class="btn btn-default shadow-sm btn-lg w-100">Xác nhận thay đổi</button>
                                    </div>
                                </div>
                                <script>
                                    function disableButton() {
                                        var btn = document.getElementById('check');
                                        btn.disabled = true;
                                        btn.innerText = 'Đang sửa...';
                                    }
                                </script>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- Page ends-->

    <!-- Footer -->
    <%- include ../layouts/tab.ejs %>
    <!-- Footer ends-->


    <!-- Required jquery and libraries -->
    <%- include ../layouts/footer.ejs %>